(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(28)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(9),o=a.n(r),s=a(7),i=a(2),l=a.n(i),u=a(4),m=a(3),p=Object(n.createContext)(),f=function(e){var t=e.id,a=e.name,n=e.height,c=e.weight,r=e.sprites,o=e.types,s=e.stats,i=o.map((function(e){return e.type.name}));return{id:t,name:a,averageWeight:{value:c/10,measurementUnit:"kg"},averageHeight:{value:n/10,measurementUnit:"m"},sprite:r.other["official-artwork"].front_default,types:i,hp:s[0].base_stat,attack:s[1].base_stat,defense:s[2].base_stat,specialAttack:s[3].base_stat,specialDefense:s[4].base_stat,speed:s[5].base_stat}},d="https://pokeapi.co/api/v2",b="".concat(d,"/pokemon/?offset=0&limit=").concat(50),v=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,c,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0;case 2:if(!(n<t.length)){e.next=14;break}return c=t[n].pokemon?t[n].pokemon.url:t[n].url,e.next=6,fetch(c);case 6:return r=e.sent,e.next=9,r.json();case 9:o=e.sent,a.push(f(o));case 11:n++,e.next=2;break;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,c,r,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:b,e.prev=1,e.next=4,fetch(t);case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent,c=n.results,r=n.next,e.next=12,v(c);case 12:return e.t0=e.sent,e.t1=r,e.abrupt("return",[e.t0,e.t1]);case 17:return e.prev=17,e.t2=e.catch(1),console.log(e.t2),e.abrupt("return",[]);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),k={bug:"#729f3f",dark:"#707070",dragon:["#53a4cf","#f16e57"],electric:"#eed535",fairy:"#fdb9e9",fighting:"#d56723",fire:"#fd7d24",flying:["#3dc7ef","#bdb9b8"],ghost:"#7b62a3",grass:"#9bcc50",ground:["#f7de3f","#ab9842"],ice:"#51c4e7",normal:"#a4acaf",poison:"#b97fc9",psychic:"#f366b9",rock:"#a38c21",steel:"#9eb7b8",water:"#4592c4"},E=function(e){var t=e.children,a=Object(n.useState)([]),r=Object(m.a)(a,2),o=r[0],i=r[1],f=Object(n.useState)([]),d=Object(m.a)(f,2),b=d[0],v=d[1],E=Object(n.useState)(""),h=Object(m.a)(E,2),y=h[0],j=h[1],O=Object(n.useState)(!0),x=Object(m.a)(O,2),N=x[0],w=x[1],F=Object(n.useState)(!1),C=Object(m.a)(F,2),P=C[0],S=C[1],T=Object(n.useState)(""),_=Object(m.a)(T,2),H=_[0],L=_[1],M=Object.keys(k);Object(n.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,g();case 3:t=e.sent,a=Object(m.a)(t,2),n=a[0],c=a[1],i(n),L(c),w(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){v(o.filter((function(e){return e.types.includes(y)||!y})))}),[y,o]);var A=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),console.log("loading more"),e.next=4,g(H);case 4:t=e.sent,a=Object(m.a)(t,2),n=a[0],c=a[1],n&&(i([].concat(Object(s.a)(o),Object(s.a)(n))),L(c),S(!1));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(p.Provider,{value:{pokemonList:o,filteredPokemon:b,activeFilter:y,pokemonTypes:M,isFetching:N,loadingMore:P,setFilter:function(e){return j(e)},loadMorePokemon:A}},t)};a(18);var h=function(e){var t=e.type,a={background:"object"===typeof k[t]?k[t][0]:k[t]};return c.a.createElement("div",{className:"type-icon",style:a},c.a.createElement("img",{src:"/pokedex/assets/type-icons/".concat(t,".svg"),alt:t}))};a(19);var y=function(e){var t=e.pokemon,a=t.name,n=t.types,r=t.averageWeight,o=t.averageHeight,s=t.sprite,i=t.hp,l=k[n[0]],u={background:"object"===typeof l?"linear-gradient(to bottom, ".concat(l[0],", ").concat(l[0]," 50%, ").concat(l[1]," 50%)"):l},m={background:"no-repeat #fff linear-gradient(to bottom, ".concat("object"===typeof l?l[0]:l," 5%, #FFFFFF) top")};return c.a.createElement("div",{className:"card",style:u},c.a.createElement("div",{className:"card-body",style:m},c.a.createElement("div",{className:"card-header"},c.a.createElement("p",{className:"poke-name"},a),c.a.createElement("p",{className:"poke-hp"},"HP ",c.a.createElement("span",null,i)),c.a.createElement("div",{className:"types"},n.map((function(e){return c.a.createElement(h,{key:e,type:e})})))),c.a.createElement("div",{className:"card-main-info"},c.a.createElement("img",{className:"poke-image",src:s,alt:a}),c.a.createElement("p",{className:"poke-types"},1===n.length?"Type: ".concat(n[0]):"Types: ".concat(n.join(" | "))),c.a.createElement("p",{className:"poke-info"},"Average Height: ",o.value," ",o.measurementUnit," | Average Weight:"," ",r.value," ",r.measurementUnit))))};a(20);var j=function(){return c.a.createElement("div",{className:"loading-container"},c.a.createElement("img",{src:"/pokedex/assets/loading.gif",alt:"Pikachu"}),c.a.createElement("p",null,"Loading",c.a.createElement("span",null,"."),c.a.createElement("span",null,"."),c.a.createElement("span",null,".")))};a(21);var O=function(){var e=Object(n.useContext)(p),t=e.isFetching,a=e.filteredPokemon,r=e.loadMorePokemon,o=e.loadingMore,s=e.activeFilter,i=null;return window.onscroll=function(){clearTimeout(i),t||(i=setTimeout((function(){var e=document.documentElement;e.scrollHeight-e.scrollTop-100<=e.clientHeight&&!s&&r()}),500))},t?c.a.createElement("div",{className:"main-content"},c.a.createElement(j,null)):c.a.createElement("div",{className:"main-content"},c.a.createElement("div",{className:"pokedex"},a.length?a.map((function(e){return c.a.createElement(y,{key:e.id,pokemon:e})})):c.a.createElement("h4",null,"No pokemon")),o&&c.a.createElement("div",{className:"loading-more"},c.a.createElement("img",{src:"/pokedex/assets/loading.gif",alt:"loading..."}),c.a.createElement("span",null,"Loading...")))},x=a(11),N=a(10);a(22);var w=function(e){var t=e.children,a=Object(n.useContext)(p),r=a.setFilter,o=a.activeFilter,s=o===t,i=k[t],l={background:"object"===typeof i?"linear-gradient(to bottom, ".concat(i[0],", ").concat(i[0]," 50%, ").concat(i[1]," 50%)"):i,outline:s?"2px solid #eed535":"none"};return o&&(l.filter=s?"none":"grayscale(1) opacity(0.2)"),c.a.createElement("button",{className:"type-button",onClick:function(){return r(s?"":t)},style:l},t)};a(23);var F=function(e){var t=e.visible,a=e.setVisible,r=Object(n.useContext)(p).pokemonTypes;return c.a.createElement("div",{className:"type-filters ".concat(t&&"visible")},c.a.createElement("div",{className:"close-filters",onClick:function(){return a(!t)},role:"button",tabIndex:"0"},c.a.createElement(N.a,null)),c.a.createElement("div",{className:"buttons"},r.map((function(e,t){return c.a.createElement(w,{key:t},e)}))))};a(24);var C=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1];return c.a.createElement("header",null,c.a.createElement("img",{src:"/pokedex/assets/pokemon-logo.png",alt:"Pokemon Logo"}),!a&&c.a.createElement(x.a,{className:"filter-icon",onClick:function(){return r(!a)}}),c.a.createElement(F,{visible:a,setVisible:r}))};a(25);var P=function(){return c.a.createElement("footer",null,"\xa9 2021 - Lucas Carib\xe9")};a(26);var S=function(){var e=Object(n.useContext)(p).isFetching;return c.a.createElement("div",{className:"App"},!e&&c.a.createElement(C,null),c.a.createElement(O,null),c.a.createElement(P,null))};a(27);o.a.render(c.a.createElement(E,null,c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null))),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.ba677253.chunk.js.map